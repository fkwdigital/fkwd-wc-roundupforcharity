!function($){"use strict";let e="fkwdwcrfc",t="."+e;const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function n(e,t){var r="notice-info";"error"===(t=t||"info")?r="notice-error":"success"===t&&(r="notice-success");var n=$("<div>",{class:"notice "+r+" is-dismissible"}).append($("<p>").text(e),$("<button>",{type:"button",class:"notice-dismiss"}).append($("<span>",{class:"screen-reader-text",text:"Dismiss this notice."})));n.find(".notice-dismiss").on("click",function(){n.fadeOut(300,function(){$(this).remove()})}),$(".wrap h1").first().after(n)}$(document).on("click","#"+e+"-generate-report",function(s){s.preventDefault();var a={action:e+"_roundup_report",nonce:fkwdwcrfc_data.nonce,month:$("#"+e+"-report-month-select-field").val()};$(t+"-generate-report").attr("disabled","disabled"),$(t+"-generate-report .spinner").addClass("is-active"),$.ajax({url:fkwdwcrfc_data.ajax_url,type:"POST",data:a,dataType:"json"}).done(function(e){let s=e.data.data;console.log(s),!0===e.success?($(t+"-report-results-table").addClass("is-active"),$(t+"-report-results-table .total-orders").html(s.total_orders),$(t+"-report-results-table .total-revenue").html(r.format(s.total_roundup)),n("Report generated successfully.","success")):n(e.message||"Report generation failed.","error")}).fail(function(e,t,r){console.error("Report generation failure: "+t+": "+r),n("Report generation failed. Please try again.","error")}).always(function(){$(t+"-generate-report .spinner").removeClass("is-active"),$(t+"-generate-report").prop("disabled",!1)})})}(jQuery);